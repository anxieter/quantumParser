q = 0
t = 0
r = 0
s = 0
X = [[0,1],[1,0]]
t *= X
H = [[0.7071067, 0.7071067], [0.7071067, -0.7071067]]
CNOT = [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 1], [0, 0, 1, 0]]
r *= H
r,s *= CNOT
print[q,t,r,s]
P = [[1,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]
while P[q,t]=0 do
q = 0
t = 0
q *= H
t *= H
TOF = [[1,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0]]
q,t,r *= TOF
print[q,t,r,s]
S = [[1,0],[0,0]]
r *= S
q,t,r *= TOF
q *= H
t *= H
print[q,t,r,s]
if P[q,t]=0 then
r *= S
print[q,t,r,s]
else
skip
fi
od
print[r,s]